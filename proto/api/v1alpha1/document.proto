// Copyright 2026 zerotable.
// Use of this source code is governed by the Apache 2.0 license that can be
// found in the LICENSE file.
//
// Based on Google Cloud Firestore API protos:
// https://github.com/googleapis/googleapis/blob/master/google/firestore/v1/document.proto

syntax = "proto3";

package api.v1alpha1;

import "google/protobuf/struct.proto";
import "google/protobuf/timestamp.proto";

message Document {
    // the fully qualified resource name of the document
    // how to model this? 
    string name = 1;

    map<string, Value> fields = 2;

    google.protobuf.Timestamp create_time = 3;
    google.protobuf.Timestamp update_time = 4;
}

message Value {
    oneof value_type {
        google.protobuf.NullValue null_value = 1;

        bool bool_value = 2;
        int64 int_value = 3;
        double double_value = 4;

        string string_value = 5;
        bytes bytes_value = 6;

        google.protobuf.Timestamp timestamp_value = 7;

        MapValue map_value = 8;
        ArrayValue array_value = 9;
    }
}

message MapValue {
    map<string, Value> fields = 1;
}

message ArrayValue {
    repeated Value values = 1;
}
